# –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cloudflare R2 –∏–ª–∏ –¥—Ä—É–≥–∏—Ö S3-—Ö—Ä–∞–Ω–∏–ª–∏—â.

---

## –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å Replicate API —Ç–æ–∫–µ–Ω (3 –º–∏–Ω—É—Ç—ã)

1. [replicate.com](https://replicate.com) ‚Üí Sign up (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)
2. Account ‚Üí API Tokens ‚Üí Create token
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `r8_...`)

---

## –®–∞–≥ 2: –ó–∞–ª–∏—Ç—å –∫–æ–¥ –Ω–∞ GitHub (5 –º–∏–Ω—É—Ç)

```bash
cd /Users/kirillmigel/Desktop/Photolab

git init
git add .
git commit -m "Initial commit: Photolab MVP"

# –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub, –∑–∞—Ç–µ–º:
git remote add origin https://github.com/–≤–∞—à-username/photolab.git
git branch -M main
git push -u origin main
```

---

## –®–∞–≥ 3: –î–µ–ø–ª–æ–π backend –Ω–∞ Render (5 –º–∏–Ω—É—Ç)

1. [render.com](https://render.com) ‚Üí Sign in with GitHub
2. **New** ‚Üí **Blueprint**
3. –í—ã–±—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `photolab`
4. Render —Å–æ–∑–¥–∞—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - `photolab-api` (Web Service)
   - `photolab-worker` (Background Worker)
   - `photolab-redis` (Redis)

5. –î–ª—è **photolab-api** ‚Üí **Environment** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å:
   ```
   REPLICATE_API_TOKEN=–≤–∞—à_replicate_—Ç–æ–∫–µ–Ω
   ```

6. –î–ª—è **photolab-worker** ‚Üí **Environment** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å:
   ```
   REPLICATE_API_TOKEN=–≤–∞—à_replicate_—Ç–æ–∫–µ–Ω
   ```

7. **Save Changes** ‚Üí Render –ø–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç —Å–µ—Ä–≤–∏—Å—ã

8. –î–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å–∞ **Live**, —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL API (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://photolab-api.onrender.com`)

---

## –®–∞–≥ 4: –î–µ–ø–ª–æ–π frontend –Ω–∞ Vercel (5 –º–∏–Ω—É—Ç)

1. [vercel.com](https://vercel.com) ‚Üí Sign in with GitHub
2. **Add New** ‚Üí **Project**
3. –í—ã–±—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `photolab`
4. **Root Directory:** `frontend` ‚ö†Ô∏è –í–ê–ñ–ù–û
5. **Environment Variables:**
   ```
   NEXT_PUBLIC_API_URL=https://photolab-api.onrender.com
   ```
   (–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Render URL –∏–∑ —à–∞–≥–∞ 3)
6. **Deploy**
7. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~2 –º–∏–Ω—É—Ç—ã)
8. –û—Ç–∫—Ä—ã—Ç—å `https://photolab-xxx.vercel.app`

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ (1 –º–∏–Ω—É—Ç–∞)

1. –û—Ç–∫—Ä—ã—Ç—å Vercel URL
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –î–æ–∂–¥–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## –ì–æ—Ç–æ–≤–æ! üéâ

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** 15-20 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0 –Ω–∞ free tier

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ

- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω
- –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (–Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫—É)
- –ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—É—é SEO-—Å—Ç–∞—Ç—å—é –¥–ª—è –±–ª–æ–≥–∞

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –±–µ–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

- **–û–¥–∏–Ω–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–¥–∞—ë—Ç—Å—è —Å—Ä–∞–∑—É –∫–∞–∫ PNG (–≤—Å—ë –æ–∫)
- **Batch:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Redis –∫–∞–∫ base64 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ~100 —Ñ–∞–π–ª–æ–≤ –∑–∞ —Ä–∞–∑)
- **TTL:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã batch –∂–∏–≤—É—Ç –ø–æ–∫–∞ job –≤ Redis (~24 —á–∞—Å–∞)

–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ batch —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å S3/R2 –ø–æ–∑–∂–µ (—Å–º. `DEPLOY.md`).

---

## Troubleshooting

**API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Render Dashboard ‚Üí photolab-api ‚Üí Logs
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ REPLICATE_API_TOKEN –∑–∞–¥–∞–Ω

**CORS –æ—à–∏–±–∫–∞:**
- –í `backend/app/main.py` —É–∂–µ —Å—Ç–æ–∏—Ç `allow_origins=["*"]`
- –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –ø–µ—Ä–µ—Å–æ–±—Ä–∞–ª—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**Batch –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ photolab-worker –∑–∞–ø—É—â–µ–Ω –∏ –≤ —Å—Ç–∞—Ç—É—Å–µ Live
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Logs worker'–∞ –Ω–∞ –æ—à–∏–±–∫–∏

